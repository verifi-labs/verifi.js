{"abi":[{"type":"error","name":"InvalidStrategyIndex","inputs":[{"name":"index","type":"uint256","internalType":"uint256"}]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.18+commit.87f61d96\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"InvalidStrategyIndex\",\"type\":\"error\"}],\"devdoc\":{\"details\":\"The voting strategies used here are configured independently of the strategies set in the Space.\",\"kind\":\"dev\",\"methods\":{},\"title\":\"Proposition Power Proposal Validation Strategy Module\",\"version\":1},\"userdoc\":{\"errors\":{\"InvalidStrategyIndex(uint256)\":[{\"notice\":\"Thrown when an invalid strategy index is supplied.\"}]},\"kind\":\"user\",\"methods\":{},\"notice\":\"This module allows a proposal to be validated based on the proposition power of an author exceeding         a threshold over a set of voting strategies.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/utils/PropositionPower.sol\":\"PropositionPower\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":10000},\"remappings\":[\":@gnosis.pm/safe-contracts/=lib/safe-contracts/\",\":@murky/=lib/murky/src/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@prb/test/=lib/prb-test/src/\",\":@zodiac/=lib/zodiac/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-gas-snapshot/=lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":murky/=lib/murky/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":prb-test/=lib/prb-test/src/\",\":safe-contracts/=lib/safe-contracts/contracts/\",\":zodiac/=lib/zodiac/contracts/\"],\"viaIR\":true},\"sources\":{\"lib/safe-contracts/contracts/common/Enum.sol\":{\"keccak256\":\"0x473e45b1a5cc47be494b0e123c9127f0c11c1e0992a321ae5a644c0bfdb2c14f\",\"license\":\"LGPL-3.0-only\",\"urls\":[\"bzz-raw://948e6d5a8bd7377f7795b6e28584eab9be5c0a8db240bf5e606744a175238c3d\",\"dweb:/ipfs/QmQQaUmQfpuejV41jbxKSTgEBYYCcVTjCsDMgf2htgz6ej\"]},\"src/interfaces/IExecutionStrategy.sol\":{\"keccak256\":\"0x9b9679eff484ba280e87813d75011d80a3001c0aefb6f50c7a4ca5110c842173\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://cc195aca37c2e778fd58f367191cee3c16a9cf03eeb13be387d650e92866dfcd\",\"dweb:/ipfs/QmW4sJB3i3ZGUtJx3hUuuiVfEHVFvpxFufv3zM8QxuJPDu\"]},\"src/interfaces/IVotingStrategy.sol\":{\"keccak256\":\"0xb97999d3a8b99bbd2d2ab6af81c713e58712c8f64a8b5fd05650ea8402ac4e3e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://58fdfe331e3da03708393ab00678ae33f2fe2b9bca780484c8e5aec1577733f4\",\"dweb:/ipfs/QmQG3vMGucyfhucH4e4Myikn41bntXH5QpsDSYS8kCbtF5\"]},\"src/interfaces/execution-strategies/IExecutionStrategyErrors.sol\":{\"keccak256\":\"0x8a1c904a4f3573013dbe8b55e3322dc929c9d6e56dc4cfe7a8e7866834661430\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://358d063db15582f772bd49400a90b5087fa6768068581494f87a5ba1eb9ef20a\",\"dweb:/ipfs/QmSovbYrxxMXvyhWTfAuZYcUDhJ1VRZca4XjiE1e8vv9Yb\"]},\"src/types.sol\":{\"keccak256\":\"0xcdc5465d75fd7bdbde15892a0ef01f16fb8ab48907e4183acb860af91c93fee4\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bc76c16a6ecc59eb6dc5c53d032d691f8bc08b417d41ef87960a54713bbd2e7f\",\"dweb:/ipfs/QmZbvxxmZEyus5hX5ThYD6qDuaTjpWR8FLZLGTEDKKBDsb\"]},\"src/utils/PropositionPower.sol\":{\"keccak256\":\"0xb138effa6137ce6742bc67009c32b38baa8d05adec1457f6bcc5445d1ea50ca6\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ce41809523f8c7eba411ae0813e10ce126452e58535d7b695b225b8354cae333\",\"dweb:/ipfs/QmQkrNxnuuTDDYeJox9ByHyCkgr4Bc9GiGNcL1EHhFUHcc\"]},\"src/utils/SXUtils.sol\":{\"keccak256\":\"0x5dc5ac4255b85c9608cae1332abbd6a35d2aa25fad9ba941623035bb45ae6464\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://80a14e15216e9411d1050bc56f07980aeab2bdfe7f31c23a319c3e2c4d57536c\",\"dweb:/ipfs/QmRuZdbrXBkbhpp2PViEtCCW6rJcugcjkwHUfAErkYTzyh\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.18+commit.87f61d96"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"type":"error","name":"InvalidStrategyIndex"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@gnosis.pm/safe-contracts/=lib/safe-contracts/","@murky/=lib/murky/src/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@prb/test/=lib/prb-test/src/","@zodiac/=lib/zodiac/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","forge-gas-snapshot/=lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","murky/=lib/murky/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/","prb-test/=lib/prb-test/src/","safe-contracts/=lib/safe-contracts/contracts/","zodiac/=lib/zodiac/contracts/"],"optimizer":{"enabled":true,"runs":10000},"metadata":{"bytecodeHash":"none"},"compilationTarget":{"src/utils/PropositionPower.sol":"PropositionPower"},"evmVersion":"paris","libraries":{},"viaIR":true},"sources":{"lib/safe-contracts/contracts/common/Enum.sol":{"keccak256":"0x473e45b1a5cc47be494b0e123c9127f0c11c1e0992a321ae5a644c0bfdb2c14f","urls":["bzz-raw://948e6d5a8bd7377f7795b6e28584eab9be5c0a8db240bf5e606744a175238c3d","dweb:/ipfs/QmQQaUmQfpuejV41jbxKSTgEBYYCcVTjCsDMgf2htgz6ej"],"license":"LGPL-3.0-only"},"src/interfaces/IExecutionStrategy.sol":{"keccak256":"0x9b9679eff484ba280e87813d75011d80a3001c0aefb6f50c7a4ca5110c842173","urls":["bzz-raw://cc195aca37c2e778fd58f367191cee3c16a9cf03eeb13be387d650e92866dfcd","dweb:/ipfs/QmW4sJB3i3ZGUtJx3hUuuiVfEHVFvpxFufv3zM8QxuJPDu"],"license":"MIT"},"src/interfaces/IVotingStrategy.sol":{"keccak256":"0xb97999d3a8b99bbd2d2ab6af81c713e58712c8f64a8b5fd05650ea8402ac4e3e","urls":["bzz-raw://58fdfe331e3da03708393ab00678ae33f2fe2b9bca780484c8e5aec1577733f4","dweb:/ipfs/QmQG3vMGucyfhucH4e4Myikn41bntXH5QpsDSYS8kCbtF5"],"license":"MIT"},"src/interfaces/execution-strategies/IExecutionStrategyErrors.sol":{"keccak256":"0x8a1c904a4f3573013dbe8b55e3322dc929c9d6e56dc4cfe7a8e7866834661430","urls":["bzz-raw://358d063db15582f772bd49400a90b5087fa6768068581494f87a5ba1eb9ef20a","dweb:/ipfs/QmSovbYrxxMXvyhWTfAuZYcUDhJ1VRZca4XjiE1e8vv9Yb"],"license":"MIT"},"src/types.sol":{"keccak256":"0xcdc5465d75fd7bdbde15892a0ef01f16fb8ab48907e4183acb860af91c93fee4","urls":["bzz-raw://bc76c16a6ecc59eb6dc5c53d032d691f8bc08b417d41ef87960a54713bbd2e7f","dweb:/ipfs/QmZbvxxmZEyus5hX5ThYD6qDuaTjpWR8FLZLGTEDKKBDsb"],"license":"MIT"},"src/utils/PropositionPower.sol":{"keccak256":"0xb138effa6137ce6742bc67009c32b38baa8d05adec1457f6bcc5445d1ea50ca6","urls":["bzz-raw://ce41809523f8c7eba411ae0813e10ce126452e58535d7b695b225b8354cae333","dweb:/ipfs/QmQkrNxnuuTDDYeJox9ByHyCkgr4Bc9GiGNcL1EHhFUHcc"],"license":"MIT"},"src/utils/SXUtils.sol":{"keccak256":"0x5dc5ac4255b85c9608cae1332abbd6a35d2aa25fad9ba941623035bb45ae6464","urls":["bzz-raw://80a14e15216e9411d1050bc56f07980aeab2bdfe7f31c23a319c3e2c4d57536c","dweb:/ipfs/QmRuZdbrXBkbhpp2PViEtCCW6rJcugcjkwHUfAErkYTzyh"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/utils/PropositionPower.sol","id":64513,"exportedSymbols":{"IVotingStrategy":[63394],"IndexedStrategy":[64111],"PropositionPower":[64512],"SXUtils":[64765],"Strategy":[64106]},"nodeType":"SourceUnit","src":"33:2338:119","nodes":[{"id":64374,"nodeType":"PragmaDirective","src":"33:24:119","nodes":[],"literals":["solidity","^","0.8",".18"]},{"id":64376,"nodeType":"ImportDirective","src":"59:40:119","nodes":[],"absolutePath":"src/utils/SXUtils.sol","file":"./SXUtils.sol","nameLocation":"-1:-1:-1","scope":64513,"sourceUnit":64766,"symbolAliases":[{"foreign":{"id":64375,"name":"SXUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64765,"src":"68:7:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":64379,"nodeType":"ImportDirective","src":"100:57:119","nodes":[],"absolutePath":"src/types.sol","file":"../types.sol","nameLocation":"-1:-1:-1","scope":64513,"sourceUnit":64200,"symbolAliases":[{"foreign":{"id":64377,"name":"IndexedStrategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64111,"src":"109:15:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":64378,"name":"Strategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64106,"src":"126:8:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":64381,"nodeType":"ImportDirective","src":"158:68:119","nodes":[],"absolutePath":"src/interfaces/IVotingStrategy.sol","file":"../interfaces/IVotingStrategy.sol","nameLocation":"-1:-1:-1","scope":64513,"sourceUnit":63395,"symbolAliases":[{"foreign":{"id":64380,"name":"IVotingStrategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":63394,"src":"167:15:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":64512,"nodeType":"ContractDefinition","src":"568:1802:119","nodes":[{"id":64387,"nodeType":"UsingForDirective","src":"609:36:119","nodes":[],"global":false,"libraryName":{"id":64383,"name":"SXUtils","nameLocations":["615:7:119"],"nodeType":"IdentifierPath","referencedDeclaration":64765,"src":"615:7:119"},"typeName":{"baseType":{"id":64385,"nodeType":"UserDefinedTypeName","pathNode":{"id":64384,"name":"IndexedStrategy","nameLocations":["627:15:119"],"nodeType":"IdentifierPath","referencedDeclaration":64111,"src":"627:15:119"},"referencedDeclaration":64111,"src":"627:15:119","typeDescriptions":{"typeIdentifier":"t_struct$_IndexedStrategy_$64111_storage_ptr","typeString":"struct IndexedStrategy"}},"id":64386,"nodeType":"ArrayTypeName","src":"627:17:119","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_IndexedStrategy_$64111_storage_$dyn_storage_ptr","typeString":"struct IndexedStrategy[]"}}},{"id":64392,"nodeType":"ErrorDefinition","src":"718:42:119","nodes":[],"documentation":{"id":64388,"nodeType":"StructuredDocumentation","src":"651:62:119","text":"@notice Thrown when an invalid strategy index is supplied."},"errorSelector":"f3e4f1b4","name":"InvalidStrategyIndex","nameLocation":"724:20:119","parameters":{"id":64391,"nodeType":"ParameterList","parameters":[{"constant":false,"id":64390,"mutability":"mutable","name":"index","nameLocation":"753:5:119","nodeType":"VariableDeclaration","scope":64392,"src":"745:13:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":64389,"name":"uint256","nodeType":"ElementaryTypeName","src":"745:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"744:15:119"}},{"id":64429,"nodeType":"FunctionDefinition","src":"887:376:119","nodes":[],"body":{"id":64428,"nodeType":"Block","src":"1089:174:119","nodes":[],"statements":[{"assignments":[64411],"declarations":[{"constant":false,"id":64411,"mutability":"mutable","name":"votingPower","nameLocation":"1107:11:119","nodeType":"VariableDeclaration","scope":64428,"src":"1099:19:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":64410,"name":"uint256","nodeType":"ElementaryTypeName","src":"1099:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":64422,"initialValue":{"arguments":[{"id":64413,"name":"author","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64395,"src":"1141:6:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"expression":{"id":64416,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"1156:5:119","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":64417,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1162:6:119","memberName":"number","nodeType":"MemberAccess","src":"1156:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":64415,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1149:6:119","typeDescriptions":{"typeIdentifier":"t_type$_t_uint32_$","typeString":"type(uint32)"},"typeName":{"id":64414,"name":"uint32","nodeType":"ElementaryTypeName","src":"1149:6:119","typeDescriptions":{}}},"id":64418,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1149:20:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":64419,"name":"userStrategies","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64405,"src":"1171:14:119","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_IndexedStrategy_$64111_memory_ptr_$dyn_memory_ptr","typeString":"struct IndexedStrategy memory[] memory"}},{"id":64420,"name":"allowedStrategies","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64401,"src":"1187:17:119","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Strategy_$64106_memory_ptr_$dyn_memory_ptr","typeString":"struct Strategy memory[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_array$_t_struct$_IndexedStrategy_$64111_memory_ptr_$dyn_memory_ptr","typeString":"struct IndexedStrategy memory[] memory"},{"typeIdentifier":"t_array$_t_struct$_Strategy_$64106_memory_ptr_$dyn_memory_ptr","typeString":"struct Strategy memory[] memory"}],"id":64412,"name":"_getCumulativePower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64511,"src":"1121:19:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint32_$_t_array$_t_struct$_IndexedStrategy_$64111_memory_ptr_$dyn_memory_ptr_$_t_array$_t_struct$_Strategy_$64106_memory_ptr_$dyn_memory_ptr_$returns$_t_uint256_$","typeString":"function (address,uint32,struct IndexedStrategy memory[] memory,struct Strategy memory[] memory) returns (uint256)"}},"id":64421,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1121:84:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1099:106:119"},{"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":64425,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":64423,"name":"votingPower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64411,"src":"1223:11:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":64424,"name":"proposalThreshold","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64397,"src":"1238:17:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1223:32:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":64426,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1222:34:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":64409,"id":64427,"nodeType":"Return","src":"1215:41:119"}]},"documentation":{"id":64393,"nodeType":"StructuredDocumentation","src":"766:116:119","text":"@dev Validates an author based on the voting power of the author exceeding a threshold over a set of strategies."},"implemented":true,"kind":"function","modifiers":[],"name":"_validate","nameLocation":"896:9:119","parameters":{"id":64406,"nodeType":"ParameterList","parameters":[{"constant":false,"id":64395,"mutability":"mutable","name":"author","nameLocation":"923:6:119","nodeType":"VariableDeclaration","scope":64429,"src":"915:14:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":64394,"name":"address","nodeType":"ElementaryTypeName","src":"915:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":64397,"mutability":"mutable","name":"proposalThreshold","nameLocation":"947:17:119","nodeType":"VariableDeclaration","scope":64429,"src":"939:25:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":64396,"name":"uint256","nodeType":"ElementaryTypeName","src":"939:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":64401,"mutability":"mutable","name":"allowedStrategies","nameLocation":"992:17:119","nodeType":"VariableDeclaration","scope":64429,"src":"974:35:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Strategy_$64106_memory_ptr_$dyn_memory_ptr","typeString":"struct Strategy[]"},"typeName":{"baseType":{"id":64399,"nodeType":"UserDefinedTypeName","pathNode":{"id":64398,"name":"Strategy","nameLocations":["974:8:119"],"nodeType":"IdentifierPath","referencedDeclaration":64106,"src":"974:8:119"},"referencedDeclaration":64106,"src":"974:8:119","typeDescriptions":{"typeIdentifier":"t_struct$_Strategy_$64106_storage_ptr","typeString":"struct Strategy"}},"id":64400,"nodeType":"ArrayTypeName","src":"974:10:119","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Strategy_$64106_storage_$dyn_storage_ptr","typeString":"struct Strategy[]"}},"visibility":"internal"},{"constant":false,"id":64405,"mutability":"mutable","name":"userStrategies","nameLocation":"1044:14:119","nodeType":"VariableDeclaration","scope":64429,"src":"1019:39:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_IndexedStrategy_$64111_memory_ptr_$dyn_memory_ptr","typeString":"struct IndexedStrategy[]"},"typeName":{"baseType":{"id":64403,"nodeType":"UserDefinedTypeName","pathNode":{"id":64402,"name":"IndexedStrategy","nameLocations":["1019:15:119"],"nodeType":"IdentifierPath","referencedDeclaration":64111,"src":"1019:15:119"},"referencedDeclaration":64111,"src":"1019:15:119","typeDescriptions":{"typeIdentifier":"t_struct$_IndexedStrategy_$64111_storage_ptr","typeString":"struct IndexedStrategy"}},"id":64404,"nodeType":"ArrayTypeName","src":"1019:17:119","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_IndexedStrategy_$64111_storage_$dyn_storage_ptr","typeString":"struct IndexedStrategy[]"}},"visibility":"internal"}],"src":"905:159:119"},"returnParameters":{"id":64409,"nodeType":"ParameterList","parameters":[{"constant":false,"id":64408,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":64429,"src":"1083:4:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":64407,"name":"bool","nodeType":"ElementaryTypeName","src":"1083:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1082:6:119"},"scope":64512,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":64511,"nodeType":"FunctionDefinition","src":"1388:980:119","nodes":[],"body":{"id":64510,"nodeType":"Block","src":"1601:767:119","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":64447,"name":"userStrategies","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64438,"src":"1710:14:119","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_IndexedStrategy_$64111_memory_ptr_$dyn_memory_ptr","typeString":"struct IndexedStrategy memory[] memory"}},"id":64449,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1725:30:119","memberName":"assertNoDuplicateIndicesMemory","nodeType":"MemberAccess","referencedDeclaration":64764,"src":"1710:45:119","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_array$_t_struct$_IndexedStrategy_$64111_memory_ptr_$dyn_memory_ptr_$returns$__$attached_to$_t_array$_t_struct$_IndexedStrategy_$64111_memory_ptr_$dyn_memory_ptr_$","typeString":"function (struct IndexedStrategy memory[] memory) pure"}},"id":64450,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1710:47:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":64451,"nodeType":"ExpressionStatement","src":"1710:47:119"},{"assignments":[64453],"declarations":[{"constant":false,"id":64453,"mutability":"mutable","name":"totalVotingPower","nameLocation":"1776:16:119","nodeType":"VariableDeclaration","scope":64510,"src":"1768:24:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":64452,"name":"uint256","nodeType":"ElementaryTypeName","src":"1768:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":64454,"nodeType":"VariableDeclarationStatement","src":"1768:24:119"},{"body":{"id":64506,"nodeType":"Block","src":"1854:475:119","statements":[{"assignments":[64467],"declarations":[{"constant":false,"id":64467,"mutability":"mutable","name":"strategyIndex","nameLocation":"1876:13:119","nodeType":"VariableDeclaration","scope":64506,"src":"1868:21:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":64466,"name":"uint256","nodeType":"ElementaryTypeName","src":"1868:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":64472,"initialValue":{"expression":{"baseExpression":{"id":64468,"name":"userStrategies","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64438,"src":"1892:14:119","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_IndexedStrategy_$64111_memory_ptr_$dyn_memory_ptr","typeString":"struct IndexedStrategy memory[] memory"}},"id":64470,"indexExpression":{"id":64469,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64456,"src":"1907:1:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1892:17:119","typeDescriptions":{"typeIdentifier":"t_struct$_IndexedStrategy_$64111_memory_ptr","typeString":"struct IndexedStrategy memory"}},"id":64471,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1910:5:119","memberName":"index","nodeType":"MemberAccess","referencedDeclaration":64108,"src":"1892:23:119","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"VariableDeclarationStatement","src":"1868:47:119"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":64476,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":64473,"name":"strategyIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64467,"src":"1933:13:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"expression":{"id":64474,"name":"allowedStrategies","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64442,"src":"1950:17:119","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Strategy_$64106_memory_ptr_$dyn_memory_ptr","typeString":"struct Strategy memory[] memory"}},"id":64475,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1968:6:119","memberName":"length","nodeType":"MemberAccess","src":"1950:24:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1933:41:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":64481,"nodeType":"IfStatement","src":"1929:89:119","trueBody":{"errorCall":{"arguments":[{"id":64478,"name":"strategyIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64467,"src":"2004:13:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":64477,"name":"InvalidStrategyIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64392,"src":"1983:20:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$__$","typeString":"function (uint256) pure"}},"id":64479,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1983:35:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":64480,"nodeType":"RevertStatement","src":"1976:42:119"}},{"assignments":[64484],"declarations":[{"constant":false,"id":64484,"mutability":"mutable","name":"strategy","nameLocation":"2048:8:119","nodeType":"VariableDeclaration","scope":64506,"src":"2032:24:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Strategy_$64106_memory_ptr","typeString":"struct Strategy"},"typeName":{"id":64483,"nodeType":"UserDefinedTypeName","pathNode":{"id":64482,"name":"Strategy","nameLocations":["2032:8:119"],"nodeType":"IdentifierPath","referencedDeclaration":64106,"src":"2032:8:119"},"referencedDeclaration":64106,"src":"2032:8:119","typeDescriptions":{"typeIdentifier":"t_struct$_Strategy_$64106_storage_ptr","typeString":"struct Strategy"}},"visibility":"internal"}],"id":64488,"initialValue":{"baseExpression":{"id":64485,"name":"allowedStrategies","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64442,"src":"2059:17:119","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Strategy_$64106_memory_ptr_$dyn_memory_ptr","typeString":"struct Strategy memory[] memory"}},"id":64487,"indexExpression":{"id":64486,"name":"strategyIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64467,"src":"2077:13:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2059:32:119","typeDescriptions":{"typeIdentifier":"t_struct$_Strategy_$64106_memory_ptr","typeString":"struct Strategy memory"}},"nodeType":"VariableDeclarationStatement","src":"2032:59:119"},{"expression":{"id":64504,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":64489,"name":"totalVotingPower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64453,"src":"2106:16:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"arguments":[{"id":64495,"name":"blockNumber","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64434,"src":"2189:11:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":64496,"name":"userAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64432,"src":"2218:11:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":64497,"name":"strategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64484,"src":"2247:8:119","typeDescriptions":{"typeIdentifier":"t_struct$_Strategy_$64106_memory_ptr","typeString":"struct Strategy memory"}},"id":64498,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2256:6:119","memberName":"params","nodeType":"MemberAccess","referencedDeclaration":64105,"src":"2247:15:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"expression":{"baseExpression":{"id":64499,"name":"userStrategies","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64438,"src":"2280:14:119","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_IndexedStrategy_$64111_memory_ptr_$dyn_memory_ptr","typeString":"struct IndexedStrategy memory[] memory"}},"id":64501,"indexExpression":{"id":64500,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64456,"src":"2295:1:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2280:17:119","typeDescriptions":{"typeIdentifier":"t_struct$_IndexedStrategy_$64111_memory_ptr","typeString":"struct IndexedStrategy memory"}},"id":64502,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2298:6:119","memberName":"params","nodeType":"MemberAccess","referencedDeclaration":64110,"src":"2280:24:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"arguments":[{"expression":{"id":64491,"name":"strategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64484,"src":"2142:8:119","typeDescriptions":{"typeIdentifier":"t_struct$_Strategy_$64106_memory_ptr","typeString":"struct Strategy memory"}},"id":64492,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2151:4:119","memberName":"addr","nodeType":"MemberAccess","referencedDeclaration":64103,"src":"2142:13:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":64490,"name":"IVotingStrategy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":63394,"src":"2126:15:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVotingStrategy_$63394_$","typeString":"type(contract IVotingStrategy)"}},"id":64493,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2126:30:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVotingStrategy_$63394","typeString":"contract IVotingStrategy"}},"id":64494,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2157:14:119","memberName":"getVotingPower","nodeType":"MemberAccess","referencedDeclaration":63393,"src":"2126:45:119","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint32_$_t_address_$_t_bytes_memory_ptr_$_t_bytes_memory_ptr_$returns$_t_uint256_$","typeString":"function (uint32,address,bytes memory,bytes memory) view external returns (uint256)"}},"id":64503,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2126:192:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2106:212:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":64505,"nodeType":"ExpressionStatement","src":"2106:212:119"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":64462,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":64459,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64456,"src":"1822:1:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":64460,"name":"userStrategies","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64438,"src":"1826:14:119","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_IndexedStrategy_$64111_memory_ptr_$dyn_memory_ptr","typeString":"struct IndexedStrategy memory[] memory"}},"id":64461,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1841:6:119","memberName":"length","nodeType":"MemberAccess","src":"1826:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1822:25:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":64507,"initializationExpression":{"assignments":[64456],"declarations":[{"constant":false,"id":64456,"mutability":"mutable","name":"i","nameLocation":"1815:1:119","nodeType":"VariableDeclaration","scope":64507,"src":"1807:9:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":64455,"name":"uint256","nodeType":"ElementaryTypeName","src":"1807:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":64458,"initialValue":{"hexValue":"30","id":64457,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1819:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"1807:13:119"},"loopExpression":{"expression":{"id":64464,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"1849:3:119","subExpression":{"id":64463,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64456,"src":"1851:1:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":64465,"nodeType":"ExpressionStatement","src":"1849:3:119"},"nodeType":"ForStatement","src":"1802:527:119"},{"expression":{"id":64508,"name":"totalVotingPower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":64453,"src":"2345:16:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":64446,"id":64509,"nodeType":"Return","src":"2338:23:119"}]},"documentation":{"id":64430,"nodeType":"StructuredDocumentation","src":"1269:114:119","text":"@dev Computes the cumulative proposition power of an address at a given block number over a set of strategies."},"implemented":true,"kind":"function","modifiers":[],"name":"_getCumulativePower","nameLocation":"1397:19:119","parameters":{"id":64443,"nodeType":"ParameterList","parameters":[{"constant":false,"id":64432,"mutability":"mutable","name":"userAddress","nameLocation":"1434:11:119","nodeType":"VariableDeclaration","scope":64511,"src":"1426:19:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":64431,"name":"address","nodeType":"ElementaryTypeName","src":"1426:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":64434,"mutability":"mutable","name":"blockNumber","nameLocation":"1462:11:119","nodeType":"VariableDeclaration","scope":64511,"src":"1455:18:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":64433,"name":"uint32","nodeType":"ElementaryTypeName","src":"1455:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":64438,"mutability":"mutable","name":"userStrategies","nameLocation":"1508:14:119","nodeType":"VariableDeclaration","scope":64511,"src":"1483:39:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_IndexedStrategy_$64111_memory_ptr_$dyn_memory_ptr","typeString":"struct IndexedStrategy[]"},"typeName":{"baseType":{"id":64436,"nodeType":"UserDefinedTypeName","pathNode":{"id":64435,"name":"IndexedStrategy","nameLocations":["1483:15:119"],"nodeType":"IdentifierPath","referencedDeclaration":64111,"src":"1483:15:119"},"referencedDeclaration":64111,"src":"1483:15:119","typeDescriptions":{"typeIdentifier":"t_struct$_IndexedStrategy_$64111_storage_ptr","typeString":"struct IndexedStrategy"}},"id":64437,"nodeType":"ArrayTypeName","src":"1483:17:119","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_IndexedStrategy_$64111_storage_$dyn_storage_ptr","typeString":"struct IndexedStrategy[]"}},"visibility":"internal"},{"constant":false,"id":64442,"mutability":"mutable","name":"allowedStrategies","nameLocation":"1550:17:119","nodeType":"VariableDeclaration","scope":64511,"src":"1532:35:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Strategy_$64106_memory_ptr_$dyn_memory_ptr","typeString":"struct Strategy[]"},"typeName":{"baseType":{"id":64440,"nodeType":"UserDefinedTypeName","pathNode":{"id":64439,"name":"Strategy","nameLocations":["1532:8:119"],"nodeType":"IdentifierPath","referencedDeclaration":64106,"src":"1532:8:119"},"referencedDeclaration":64106,"src":"1532:8:119","typeDescriptions":{"typeIdentifier":"t_struct$_Strategy_$64106_storage_ptr","typeString":"struct Strategy"}},"id":64441,"nodeType":"ArrayTypeName","src":"1532:10:119","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Strategy_$64106_storage_$dyn_storage_ptr","typeString":"struct Strategy[]"}},"visibility":"internal"}],"src":"1416:157:119"},"returnParameters":{"id":64446,"nodeType":"ParameterList","parameters":[{"constant":false,"id":64445,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":64511,"src":"1592:7:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":64444,"name":"uint256","nodeType":"ElementaryTypeName","src":"1592:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1591:9:119"},"scope":64512,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"abstract":true,"baseContracts":[],"canonicalName":"PropositionPower","contractDependencies":[],"contractKind":"contract","documentation":{"id":64382,"nodeType":"StructuredDocumentation","src":"228:340:119","text":"@title Proposition Power Proposal Validation Strategy Module\n @notice This module allows a proposal to be validated based on the proposition power of an author exceeding\n         a threshold over a set of voting strategies.\n @dev The voting strategies used here are configured independently of the strategies set in the Space."},"fullyImplemented":true,"linearizedBaseContracts":[64512],"name":"PropositionPower","nameLocation":"586:16:119","scope":64513,"usedErrors":[64392]}],"license":"MIT"},"id":119}