{"abi":[{"type":"error","name":"InvalidShortString","inputs":[]},{"type":"error","name":"StringTooLong","inputs":[{"name":"str","type":"string","internalType":"string"}]}],"bytecode":{"object":"0x6080806040523460175760119081601d823930815050f35b600080fdfe600080fdfea164736f6c6343000812000a","sourceMap":"1235:3050:66:-:0;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x600080fdfea164736f6c6343000812000a","sourceMap":"1235:3050:66:-:0;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.18+commit.87f61d96\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"InvalidShortString\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"str\",\"type\":\"string\"}],\"name\":\"StringTooLong\",\"type\":\"error\"}],\"devdoc\":{\"details\":\"This library provides functions to convert short memory strings into a `ShortString` type that can be used as an immutable variable. Strings of arbitrary length can be optimized using this library if they are short enough (up to 31 bytes) by packing them with their length (1 byte) in a single EVM word (32 bytes). Additionally, a fallback mechanism can be used for every other case. Usage example: ```solidity contract Named {     using ShortStrings for *;     ShortString private immutable _name;     string private _nameFallback;     constructor(string memory contractName) {         _name = contractName.toShortStringWithFallback(_nameFallback);     }     function name() external view returns (string memory) {         return _name.toStringWithFallback(_nameFallback);     } } ```\",\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol\":\"ShortStrings\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":10000},\"remappings\":[\":@gnosis.pm/safe-contracts/=lib/safe-contracts/\",\":@murky/=lib/murky/src/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@prb/test/=lib/prb-test/src/\",\":@zodiac/=lib/zodiac/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-gas-snapshot/=lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":murky/=lib/murky/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":prb-test/=lib/prb-test/src/\",\":safe-contracts/=lib/safe-contracts/contracts/\",\":zodiac/=lib/zodiac/contracts/\"],\"viaIR\":true},\"sources\":{\"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol\":{\"keccak256\":\"0xc0e310c163edf15db45d4ff938113ab357f94fa86e61ea8e790853c4d2e13256\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://04db5bc05dcb05ba1f6ca2dfbead17adc8a2e2f911aa80b05e7a36d9eaf96516\",\"dweb:/ipfs/QmVkfHZbXVBUPsTopueCn3qGJX8aEjahFF3Fn4NcygLNm5\"]},\"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol\":{\"keccak256\":\"0xf09e68aa0dc6722a25bc46490e8d48ed864466d17313b8a0b254c36b54e49899\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e26daf81e2252dc1fe1ce0e4b55c2eb7c6d1ee84ae6558d1a9554432ea1d32da\",\"dweb:/ipfs/Qmb1UANWiWq5pCKbmHSu772hd4nt374dVaghGmwSVNuk8Q\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.18+commit.87f61d96"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"InvalidShortString"},{"inputs":[{"internalType":"string","name":"str","type":"string"}],"type":"error","name":"StringTooLong"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@gnosis.pm/safe-contracts/=lib/safe-contracts/","@murky/=lib/murky/src/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@prb/test/=lib/prb-test/src/","@zodiac/=lib/zodiac/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","forge-gas-snapshot/=lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","murky/=lib/murky/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/","prb-test/=lib/prb-test/src/","safe-contracts/=lib/safe-contracts/contracts/","zodiac/=lib/zodiac/contracts/"],"optimizer":{"enabled":true,"runs":10000},"metadata":{"bytecodeHash":"none"},"compilationTarget":{"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol":"ShortStrings"},"evmVersion":"paris","libraries":{},"viaIR":true},"sources":{"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol":{"keccak256":"0xc0e310c163edf15db45d4ff938113ab357f94fa86e61ea8e790853c4d2e13256","urls":["bzz-raw://04db5bc05dcb05ba1f6ca2dfbead17adc8a2e2f911aa80b05e7a36d9eaf96516","dweb:/ipfs/QmVkfHZbXVBUPsTopueCn3qGJX8aEjahFF3Fn4NcygLNm5"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol":{"keccak256":"0xf09e68aa0dc6722a25bc46490e8d48ed864466d17313b8a0b254c36b54e49899","urls":["bzz-raw://e26daf81e2252dc1fe1ce0e4b55c2eb7c6d1ee84ae6558d1a9554432ea1d32da","dweb:/ipfs/Qmb1UANWiWq5pCKbmHSu772hd4nt374dVaghGmwSVNuk8Q"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol","id":52630,"exportedSymbols":{"ShortString":[52418],"ShortStrings":[52629],"StorageSlot":[52739]},"nodeType":"SourceUnit","src":"106:4180:66","nodes":[{"id":52415,"nodeType":"PragmaDirective","src":"106:23:66","nodes":[],"literals":["solidity","^","0.8",".8"]},{"id":52416,"nodeType":"ImportDirective","src":"131:27:66","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol","file":"./StorageSlot.sol","nameLocation":"-1:-1:-1","scope":52630,"sourceUnit":52740,"symbolAliases":[],"unitAlias":""},{"id":52418,"nodeType":"UserDefinedValueTypeDefinition","src":"328:28:66","nodes":[],"canonicalName":"ShortString","name":"ShortString","nameLocation":"333:11:66","underlyingType":{"id":52417,"name":"bytes32","nodeType":"ElementaryTypeName","src":"348:7:66","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},{"id":52629,"nodeType":"ContractDefinition","src":"1235:3050:66","nodes":[{"id":52422,"nodeType":"VariableDeclaration","src":"1325:112:66","nodes":[],"constant":true,"mutability":"constant","name":"_FALLBACK_SENTINEL","nameLocation":"1350:18:66","scope":52629,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":52420,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1325:7:66","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307830303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030304646","id":52421,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1371:66:66","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0x00000000000000000000000000000000000000000000000000000000000000FF"},"visibility":"private"},{"id":52426,"nodeType":"ErrorDefinition","src":"1444:32:66","nodes":[],"errorSelector":"305a27a9","name":"StringTooLong","nameLocation":"1450:13:66","parameters":{"id":52425,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52424,"mutability":"mutable","name":"str","nameLocation":"1471:3:66","nodeType":"VariableDeclaration","scope":52426,"src":"1464:10:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":52423,"name":"string","nodeType":"ElementaryTypeName","src":"1464:6:66","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1463:12:66"}},{"id":52428,"nodeType":"ErrorDefinition","src":"1481:27:66","nodes":[],"errorSelector":"b3512b0c","name":"InvalidShortString","nameLocation":"1487:18:66","parameters":{"id":52427,"nodeType":"ParameterList","parameters":[],"src":"1505:2:66"}},{"id":52472,"nodeType":"FunctionDefinition","src":"1689:286:66","nodes":[],"body":{"id":52471,"nodeType":"Block","src":"1767:208:66","nodes":[],"statements":[{"assignments":[52438],"declarations":[{"constant":false,"id":52438,"mutability":"mutable","name":"bstr","nameLocation":"1790:4:66","nodeType":"VariableDeclaration","scope":52471,"src":"1777:17:66","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":52437,"name":"bytes","nodeType":"ElementaryTypeName","src":"1777:5:66","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":52443,"initialValue":{"arguments":[{"id":52441,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52431,"src":"1803:3:66","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":52440,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1797:5:66","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":52439,"name":"bytes","nodeType":"ElementaryTypeName","src":"1797:5:66","typeDescriptions":{}}},"id":52442,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1797:10:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"1777:30:66"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52447,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":52444,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52438,"src":"1821:4:66","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":52445,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1826:6:66","memberName":"length","nodeType":"MemberAccess","src":"1821:11:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"3331","id":52446,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1835:2:66","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"31"},"src":"1821:16:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52453,"nodeType":"IfStatement","src":"1817:72:66","trueBody":{"id":52452,"nodeType":"Block","src":"1839:50:66","statements":[{"errorCall":{"arguments":[{"id":52449,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52431,"src":"1874:3:66","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":52448,"name":"StringTooLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52426,"src":"1860:13:66","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":52450,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1860:18:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52451,"nodeType":"RevertStatement","src":"1853:25:66"}]}},{"expression":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52467,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":52462,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52438,"src":"1946:4:66","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":52461,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1938:7:66","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":52460,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1938:7:66","typeDescriptions":{}}},"id":52463,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1938:13:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":52459,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1930:7:66","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":52458,"name":"uint256","nodeType":"ElementaryTypeName","src":"1930:7:66","typeDescriptions":{}}},"id":52464,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1930:22:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"expression":{"id":52465,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52438,"src":"1955:4:66","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":52466,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1960:6:66","memberName":"length","nodeType":"MemberAccess","src":"1955:11:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1930:36:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":52457,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1922:7:66","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":52456,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1922:7:66","typeDescriptions":{}}},"id":52468,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1922:45:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":52454,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52418,"src":"1905:11:66","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$52418_$","typeString":"type(ShortString)"}},"id":52455,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1917:4:66","memberName":"wrap","nodeType":"MemberAccess","src":"1905:16:66","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$52418_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":52469,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1905:63:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}},"functionReturnParameters":52436,"id":52470,"nodeType":"Return","src":"1898:70:66"}]},"documentation":{"id":52429,"nodeType":"StructuredDocumentation","src":"1514:170:66","text":" @dev Encode a string of at most 31 chars into a `ShortString`.\n This will trigger a `StringTooLong` error is the input string is too long."},"implemented":true,"kind":"function","modifiers":[],"name":"toShortString","nameLocation":"1698:13:66","parameters":{"id":52432,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52431,"mutability":"mutable","name":"str","nameLocation":"1726:3:66","nodeType":"VariableDeclaration","scope":52472,"src":"1712:17:66","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":52430,"name":"string","nodeType":"ElementaryTypeName","src":"1712:6:66","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1711:19:66"},"returnParameters":{"id":52436,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52435,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52472,"src":"1754:11:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"},"typeName":{"id":52434,"nodeType":"UserDefinedTypeName","pathNode":{"id":52433,"name":"ShortString","nameLocations":["1754:11:66"],"nodeType":"IdentifierPath","referencedDeclaration":52418,"src":"1754:11:66"},"referencedDeclaration":52418,"src":"1754:11:66","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}},"visibility":"internal"}],"src":"1753:13:66"},"scope":52629,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":52498,"nodeType":"FunctionDefinition","src":"2059:405:66","nodes":[],"body":{"id":52497,"nodeType":"Block","src":"2133:331:66","nodes":[],"statements":[{"assignments":[52482],"declarations":[{"constant":false,"id":52482,"mutability":"mutable","name":"len","nameLocation":"2151:3:66","nodeType":"VariableDeclaration","scope":52497,"src":"2143:11:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52481,"name":"uint256","nodeType":"ElementaryTypeName","src":"2143:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52486,"initialValue":{"arguments":[{"id":52484,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52476,"src":"2168:4:66","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}],"id":52483,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52530,"src":"2157:10:66","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$52418_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":52485,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2157:16:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2143:30:66"},{"assignments":[52488],"declarations":[{"constant":false,"id":52488,"mutability":"mutable","name":"str","nameLocation":"2275:3:66","nodeType":"VariableDeclaration","scope":52497,"src":"2261:17:66","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":52487,"name":"string","nodeType":"ElementaryTypeName","src":"2261:6:66","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"id":52493,"initialValue":{"arguments":[{"hexValue":"3332","id":52491,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2292:2:66","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"}],"id":52490,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"2281:10:66","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_string_memory_ptr_$","typeString":"function (uint256) pure returns (string memory)"},"typeName":{"id":52489,"name":"string","nodeType":"ElementaryTypeName","src":"2285:6:66","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}}},"id":52492,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2281:14:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"nodeType":"VariableDeclarationStatement","src":"2261:34:66"},{"AST":{"nodeType":"YulBlock","src":"2357:81:66","statements":[{"expression":{"arguments":[{"name":"str","nodeType":"YulIdentifier","src":"2378:3:66"},{"name":"len","nodeType":"YulIdentifier","src":"2383:3:66"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"2371:6:66"},"nodeType":"YulFunctionCall","src":"2371:16:66"},"nodeType":"YulExpressionStatement","src":"2371:16:66"},{"expression":{"arguments":[{"arguments":[{"name":"str","nodeType":"YulIdentifier","src":"2411:3:66"},{"kind":"number","nodeType":"YulLiteral","src":"2416:4:66","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"2407:3:66"},"nodeType":"YulFunctionCall","src":"2407:14:66"},{"name":"sstr","nodeType":"YulIdentifier","src":"2423:4:66"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"2400:6:66"},"nodeType":"YulFunctionCall","src":"2400:28:66"},"nodeType":"YulExpressionStatement","src":"2400:28:66"}]},"documentation":"@solidity memory-safe-assembly","evmVersion":"paris","externalReferences":[{"declaration":52482,"isOffset":false,"isSlot":false,"src":"2383:3:66","valueSize":1},{"declaration":52476,"isOffset":false,"isSlot":false,"src":"2423:4:66","valueSize":1},{"declaration":52488,"isOffset":false,"isSlot":false,"src":"2378:3:66","valueSize":1},{"declaration":52488,"isOffset":false,"isSlot":false,"src":"2411:3:66","valueSize":1}],"id":52494,"nodeType":"InlineAssembly","src":"2348:90:66"},{"expression":{"id":52495,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52488,"src":"2454:3:66","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":52480,"id":52496,"nodeType":"Return","src":"2447:10:66"}]},"documentation":{"id":52473,"nodeType":"StructuredDocumentation","src":"1981:73:66","text":" @dev Decode a `ShortString` back to a \"normal\" string."},"implemented":true,"kind":"function","modifiers":[],"name":"toString","nameLocation":"2068:8:66","parameters":{"id":52477,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52476,"mutability":"mutable","name":"sstr","nameLocation":"2089:4:66","nodeType":"VariableDeclaration","scope":52498,"src":"2077:16:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"},"typeName":{"id":52475,"nodeType":"UserDefinedTypeName","pathNode":{"id":52474,"name":"ShortString","nameLocations":["2077:11:66"],"nodeType":"IdentifierPath","referencedDeclaration":52418,"src":"2077:11:66"},"referencedDeclaration":52418,"src":"2077:11:66","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}},"visibility":"internal"}],"src":"2076:18:66"},"returnParameters":{"id":52480,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52479,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52498,"src":"2118:13:66","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":52478,"name":"string","nodeType":"ElementaryTypeName","src":"2118:6:66","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2117:15:66"},"scope":52629,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":52530,"nodeType":"FunctionDefinition","src":"2536:245:66","nodes":[],"body":{"id":52529,"nodeType":"Block","src":"2606:175:66","nodes":[],"statements":[{"assignments":[52508],"declarations":[{"constant":false,"id":52508,"mutability":"mutable","name":"result","nameLocation":"2624:6:66","nodeType":"VariableDeclaration","scope":52529,"src":"2616:14:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52507,"name":"uint256","nodeType":"ElementaryTypeName","src":"2616:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52518,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52517,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":52513,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52502,"src":"2660:4:66","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}],"expression":{"id":52511,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52418,"src":"2641:11:66","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$52418_$","typeString":"type(ShortString)"}},"id":52512,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2653:6:66","memberName":"unwrap","nodeType":"MemberAccess","src":"2641:18:66","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$52418_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":52514,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2641:24:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":52510,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2633:7:66","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":52509,"name":"uint256","nodeType":"ElementaryTypeName","src":"2633:7:66","typeDescriptions":{}}},"id":52515,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2633:33:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"&","rightExpression":{"hexValue":"30784646","id":52516,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2669:4:66","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0xFF"},"src":"2633:40:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2616:57:66"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52521,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52519,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52508,"src":"2687:6:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"3331","id":52520,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2696:2:66","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"31"},"src":"2687:11:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52526,"nodeType":"IfStatement","src":"2683:69:66","trueBody":{"id":52525,"nodeType":"Block","src":"2700:52:66","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":52522,"name":"InvalidShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52428,"src":"2721:18:66","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":52523,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2721:20:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52524,"nodeType":"RevertStatement","src":"2714:27:66"}]}},{"expression":{"id":52527,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52508,"src":"2768:6:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":52506,"id":52528,"nodeType":"Return","src":"2761:13:66"}]},"documentation":{"id":52499,"nodeType":"StructuredDocumentation","src":"2470:61:66","text":" @dev Return the length of a `ShortString`."},"implemented":true,"kind":"function","modifiers":[],"name":"byteLength","nameLocation":"2545:10:66","parameters":{"id":52503,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52502,"mutability":"mutable","name":"sstr","nameLocation":"2568:4:66","nodeType":"VariableDeclaration","scope":52530,"src":"2556:16:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"},"typeName":{"id":52501,"nodeType":"UserDefinedTypeName","pathNode":{"id":52500,"name":"ShortString","nameLocations":["2556:11:66"],"nodeType":"IdentifierPath","referencedDeclaration":52418,"src":"2556:11:66"},"referencedDeclaration":52418,"src":"2556:11:66","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}},"visibility":"internal"}],"src":"2555:18:66"},"returnParameters":{"id":52506,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52505,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52530,"src":"2597:7:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52504,"name":"uint256","nodeType":"ElementaryTypeName","src":"2597:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2596:9:66"},"scope":52629,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":52570,"nodeType":"FunctionDefinition","src":"2895:341:66","nodes":[],"body":{"id":52569,"nodeType":"Block","src":"3004:232:66","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52547,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"arguments":[{"id":52543,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52533,"src":"3024:5:66","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":52542,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3018:5:66","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":52541,"name":"bytes","nodeType":"ElementaryTypeName","src":"3018:5:66","typeDescriptions":{}}},"id":52544,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3018:12:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":52545,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3031:6:66","memberName":"length","nodeType":"MemberAccess","src":"3018:19:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"3332","id":52546,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3040:2:66","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"},"src":"3018:24:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":52567,"nodeType":"Block","src":"3102:128:66","statements":[{"expression":{"id":52560,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"arguments":[{"id":52556,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52535,"src":"3142:5:66","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"expression":{"id":52553,"name":"StorageSlot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52739,"src":"3116:11:66","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_StorageSlot_$52739_$","typeString":"type(library StorageSlot)"}},"id":52555,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3128:13:66","memberName":"getStringSlot","nodeType":"MemberAccess","referencedDeclaration":52716,"src":"3116:25:66","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_storage_ptr_$returns$_t_struct$_StringSlot_$52647_storage_ptr_$","typeString":"function (string storage pointer) pure returns (struct StorageSlot.StringSlot storage pointer)"}},"id":52557,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3116:32:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_StringSlot_$52647_storage_ptr","typeString":"struct StorageSlot.StringSlot storage pointer"}},"id":52558,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3149:5:66","memberName":"value","nodeType":"MemberAccess","referencedDeclaration":52646,"src":"3116:38:66","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":52559,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52533,"src":"3157:5:66","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"src":"3116:46:66","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"id":52561,"nodeType":"ExpressionStatement","src":"3116:46:66"},{"expression":{"arguments":[{"id":52564,"name":"_FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52422,"src":"3200:18:66","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":52562,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52418,"src":"3183:11:66","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$52418_$","typeString":"type(ShortString)"}},"id":52563,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3195:4:66","memberName":"wrap","nodeType":"MemberAccess","src":"3183:16:66","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$52418_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":52565,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3183:36:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}},"functionReturnParameters":52540,"id":52566,"nodeType":"Return","src":"3176:43:66"}]},"id":52568,"nodeType":"IfStatement","src":"3014:216:66","trueBody":{"id":52552,"nodeType":"Block","src":"3044:52:66","statements":[{"expression":{"arguments":[{"id":52549,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52533,"src":"3079:5:66","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":52548,"name":"toShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52472,"src":"3065:13:66","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_memory_ptr_$returns$_t_userDefinedValueType$_ShortString_$52418_$","typeString":"function (string memory) pure returns (ShortString)"}},"id":52550,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3065:20:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}},"functionReturnParameters":52540,"id":52551,"nodeType":"Return","src":"3058:27:66"}]}}]},"documentation":{"id":52531,"nodeType":"StructuredDocumentation","src":"2787:103:66","text":" @dev Encode a string into a `ShortString`, or write it to storage if it is too long."},"implemented":true,"kind":"function","modifiers":[],"name":"toShortStringWithFallback","nameLocation":"2904:25:66","parameters":{"id":52536,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52533,"mutability":"mutable","name":"value","nameLocation":"2944:5:66","nodeType":"VariableDeclaration","scope":52570,"src":"2930:19:66","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":52532,"name":"string","nodeType":"ElementaryTypeName","src":"2930:6:66","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"},{"constant":false,"id":52535,"mutability":"mutable","name":"store","nameLocation":"2966:5:66","nodeType":"VariableDeclaration","scope":52570,"src":"2951:20:66","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":52534,"name":"string","nodeType":"ElementaryTypeName","src":"2951:6:66","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2929:43:66"},"returnParameters":{"id":52540,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52539,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52570,"src":"2991:11:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"},"typeName":{"id":52538,"nodeType":"UserDefinedTypeName","pathNode":{"id":52537,"name":"ShortString","nameLocations":["2991:11:66"],"nodeType":"IdentifierPath","referencedDeclaration":52418,"src":"2991:11:66"},"referencedDeclaration":52418,"src":"2991:11:66","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}},"visibility":"internal"}],"src":"2990:13:66"},"scope":52629,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":52597,"nodeType":"FunctionDefinition","src":"3367:268:66","nodes":[],"body":{"id":52596,"nodeType":"Block","src":"3476:159:66","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":52586,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":52583,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52574,"src":"3509:5:66","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}],"expression":{"id":52581,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52418,"src":"3490:11:66","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$52418_$","typeString":"type(ShortString)"}},"id":52582,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3502:6:66","memberName":"unwrap","nodeType":"MemberAccess","src":"3490:18:66","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$52418_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":52584,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3490:25:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":52585,"name":"_FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52422,"src":"3519:18:66","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3490:47:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":52594,"nodeType":"Block","src":"3592:37:66","statements":[{"expression":{"id":52592,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52576,"src":"3613:5:66","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}},"functionReturnParameters":52580,"id":52593,"nodeType":"Return","src":"3606:12:66"}]},"id":52595,"nodeType":"IfStatement","src":"3486:143:66","trueBody":{"id":52591,"nodeType":"Block","src":"3539:47:66","statements":[{"expression":{"arguments":[{"id":52588,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52574,"src":"3569:5:66","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}],"id":52587,"name":"toString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52498,"src":"3560:8:66","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$52418_$returns$_t_string_memory_ptr_$","typeString":"function (ShortString) pure returns (string memory)"}},"id":52589,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3560:15:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":52580,"id":52590,"nodeType":"Return","src":"3553:22:66"}]}}]},"documentation":{"id":52571,"nodeType":"StructuredDocumentation","src":"3242:120:66","text":" @dev Decode a string that was encoded to `ShortString` or written to storage using {setWithFallback}."},"implemented":true,"kind":"function","modifiers":[],"name":"toStringWithFallback","nameLocation":"3376:20:66","parameters":{"id":52577,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52574,"mutability":"mutable","name":"value","nameLocation":"3409:5:66","nodeType":"VariableDeclaration","scope":52597,"src":"3397:17:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"},"typeName":{"id":52573,"nodeType":"UserDefinedTypeName","pathNode":{"id":52572,"name":"ShortString","nameLocations":["3397:11:66"],"nodeType":"IdentifierPath","referencedDeclaration":52418,"src":"3397:11:66"},"referencedDeclaration":52418,"src":"3397:11:66","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":52576,"mutability":"mutable","name":"store","nameLocation":"3431:5:66","nodeType":"VariableDeclaration","scope":52597,"src":"3416:20:66","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":52575,"name":"string","nodeType":"ElementaryTypeName","src":"3416:6:66","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3396:41:66"},"returnParameters":{"id":52580,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52579,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52597,"src":"3461:13:66","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":52578,"name":"string","nodeType":"ElementaryTypeName","src":"3461:6:66","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3460:15:66"},"scope":52629,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":52628,"nodeType":"FunctionDefinition","src":"4003:280:66","nodes":[],"body":{"id":52627,"nodeType":"Block","src":"4108:175:66","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":52613,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":52610,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52601,"src":"4141:5:66","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}],"expression":{"id":52608,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52418,"src":"4122:11:66","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$52418_$","typeString":"type(ShortString)"}},"id":52609,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4134:6:66","memberName":"unwrap","nodeType":"MemberAccess","src":"4122:18:66","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$52418_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":52611,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4122:25:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":52612,"name":"_FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52422,"src":"4151:18:66","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"4122:47:66","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":52625,"nodeType":"Block","src":"4226:51:66","statements":[{"expression":{"expression":{"arguments":[{"id":52621,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52603,"src":"4253:5:66","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"id":52620,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4247:5:66","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":52619,"name":"bytes","nodeType":"ElementaryTypeName","src":"4247:5:66","typeDescriptions":{}}},"id":52622,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4247:12:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes storage pointer"}},"id":52623,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4260:6:66","memberName":"length","nodeType":"MemberAccess","src":"4247:19:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":52607,"id":52624,"nodeType":"Return","src":"4240:26:66"}]},"id":52626,"nodeType":"IfStatement","src":"4118:159:66","trueBody":{"id":52618,"nodeType":"Block","src":"4171:49:66","statements":[{"expression":{"arguments":[{"id":52615,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52601,"src":"4203:5:66","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}],"id":52614,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52530,"src":"4192:10:66","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$52418_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":52616,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4192:17:66","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":52607,"id":52617,"nodeType":"Return","src":"4185:24:66"}]}}]},"documentation":{"id":52598,"nodeType":"StructuredDocumentation","src":"3641:357:66","text":" @dev Return the length of a string that was encoded to `ShortString` or written to storage using {setWithFallback}.\n WARNING: This will return the \"byte length\" of the string. This may not reflect the actual length in terms of\n actual characters as the UTF-8 encoding of a single character can span over multiple bytes."},"implemented":true,"kind":"function","modifiers":[],"name":"byteLengthWithFallback","nameLocation":"4012:22:66","parameters":{"id":52604,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52601,"mutability":"mutable","name":"value","nameLocation":"4047:5:66","nodeType":"VariableDeclaration","scope":52628,"src":"4035:17:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"},"typeName":{"id":52600,"nodeType":"UserDefinedTypeName","pathNode":{"id":52599,"name":"ShortString","nameLocations":["4035:11:66"],"nodeType":"IdentifierPath","referencedDeclaration":52418,"src":"4035:11:66"},"referencedDeclaration":52418,"src":"4035:11:66","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$52418","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":52603,"mutability":"mutable","name":"store","nameLocation":"4069:5:66","nodeType":"VariableDeclaration","scope":52628,"src":"4054:20:66","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":52602,"name":"string","nodeType":"ElementaryTypeName","src":"4054:6:66","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"4034:41:66"},"returnParameters":{"id":52607,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52606,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52628,"src":"4099:7:66","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52605,"name":"uint256","nodeType":"ElementaryTypeName","src":"4099:7:66","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4098:9:66"},"scope":52629,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"ShortStrings","contractDependencies":[],"contractKind":"library","documentation":{"id":52419,"nodeType":"StructuredDocumentation","src":"358:876:66","text":" @dev This library provides functions to convert short memory strings\n into a `ShortString` type that can be used as an immutable variable.\n Strings of arbitrary length can be optimized using this library if\n they are short enough (up to 31 bytes) by packing them with their\n length (1 byte) in a single EVM word (32 bytes). Additionally, a\n fallback mechanism can be used for every other case.\n Usage example:\n ```solidity\n contract Named {\n     using ShortStrings for *;\n     ShortString private immutable _name;\n     string private _nameFallback;\n     constructor(string memory contractName) {\n         _name = contractName.toShortStringWithFallback(_nameFallback);\n     }\n     function name() external view returns (string memory) {\n         return _name.toStringWithFallback(_nameFallback);\n     }\n }\n ```"},"fullyImplemented":true,"linearizedBaseContracts":[52629],"name":"ShortStrings","nameLocation":"1243:12:66","scope":52630,"usedErrors":[52426,52428]}],"license":"MIT"},"id":66}